{"name": "test_logincase[case6]", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "case = {'优先级': 'P2', '前置SQL': None, '接口地址': '/p/shopCart/changeItem', '提取响应字段': None, ...}\nget_env = 'test'\n\n    @pytest.mark.parametrize(\"case\",case_all)  # case是字典\n    def test_logincase(case,get_env):\n        expected_result = case[\"预期结果\"]\n        db_assert_data = case[\"数据库断言\"]\n        req = request_api(case,get_env)\n        # 响应结果\n>       response_assert(req,expected_result)\n\n..\\day28_接口框架的动态环境切换\\testcases\\test_cart.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ntools\\handle_resp_assert.py:59: in response_assert\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [400]>, expected_result = {'text': '请输入正确的数量'}\n\n    def response_assert(response,expected_result):\n        \"\"\"\n        这是一个响应结果断言的函数：对接口进行响应断言；支持接口的结果是json格式和文本格式。\n        :param response: 接口响应结果消息对象\n        :param expected_result: 从excel里读取出来的断言表达式\n        :return: 没有返回值\n        \"\"\"\n        logger.info(\"================开始做响应结果断言=============================\")\n        if expected_result is None:\n            logger.info(\"这条用例不需要做断言！\")\n            return  # 如果响应断言是None  不需要做断言 直接返回\n        #在反序列化转化为字典之前  完成断言表达式的替换操作\n        expected_result = replace_mark_fun(expected_result)\n    \n        expected_result = json.loads(expected_result)   #字典\n        logger.info(f\"期望结果表达式：{expected_result}\")\n        for k,v in expected_result.items():\n            if k.startswith(\"$\"):\n                actual_result = jsonpath(response.json(),k)[0]\n                logger.info(f\"执行结果是{actual_result}\")\n                logger.info(f\"预期结果是{v}\")\n                try:\n                    assert actual_result == v\n                    logger.info(\"断言通过！\")\n                except AssertionError as e:\n                    logger.error(\"断言失败！\")\n                    raise e\n            elif k == \"text\":\n                actual_result = response.text\n                logger.info(f\"执行结果是{actual_result}\")\n                logger.info(f\"预期结果是{v}\")\n                try:\n>                   assert actual_result == v\nE                   AssertionError\n\ntools\\handle_resp_assert.py:55: AssertionError"}, "start": 1745066314246, "stop": 1745066314340, "uuid": "406f0cdd-c154-4daa-b912-70bc60ac3e75", "historyId": "a59742047fd230b7f6f5059322d32575", "testCaseId": "de4c047a50740ada3cc41ecf3d31ac80", "fullName": "testcases.test_cart#test_logincase", "labels": [{"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_cart"}, {"name": "host", "value": "LAPTOP-DLMSE2IP"}, {"name": "thread", "value": "6224-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_cart"}]}